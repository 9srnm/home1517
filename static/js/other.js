function changeHeat(t){t.target.closest("#heat")&&$.ajax({url:"/heat",type:"POST",data:JSON.stringify({heat:$("#heat").prop("checked")}),contentType:"application/json; charset=utf-8",dataType:"json"})}function changeCool(t){t.target.closest("#cool")&&$.ajax({url:"/cool",type:"POST",data:JSON.stringify({cool:$("#cool").prop("checked")}),contentType:"application/json; charset=utf-8",dataType:"json"})}function changeAutoHeat(t){t.target.closest("input[name=auto_heat]")&&($("input[name=auto_heat]")[0].checked?($("#heat")[0].style.pointerEvents="none",$("#heat")[0].style.opacity=".5",$("#cool")[0].style.pointerEvents="none",$("#cool")[0].style.opacity=".5",$("#heat")[0].checked=!1,$("#cool")[0].checked=!1):($("#heat")[0].style.pointerEvents="auto",$("#heat")[0].style.opacity="1",$("#cool")[0].style.pointerEvents="auto",$("#cool")[0].style.opacity="1"),$.ajax({url:"/auto_heat",type:"POST",data:JSON.stringify({temp_auto:$("input[name=auto_heat]")[1].value,auto_heat:$("input[name=auto_heat]")[0].checked}),contentType:"application/json; charset=utf-8",dataType:"json"}),$.ajax({url:"/cool",type:"POST",data:JSON.stringify({cool:$("#cool").prop("checked")}),contentType:"application/json; charset=utf-8",dataType:"json"}),$.ajax({url:"/heat",type:"POST",data:JSON.stringify({heat:$("#heat").prop("checked")}),contentType:"application/json; charset=utf-8",dataType:"json"}))}function gett(){$.ajax({url:"/get_data",type:"get",success:function(t){$("#hum").text(t.hum),$("#temp").text(t.temp)},error:function(t){}})}function setCoolHeat(){$.ajax({url:"/get_data",type:"get",success:function(t){$("input[name=max_temp]")[0].value=t.temp_limit,$("input[name=auto_heat]")[0].checked=t.auto_heat,$("input[name=auto_heat]")[1].value=t.temp_auto,$("input[name=auto_heat]")[0].checked?($("#heat")[0].checked=!1,$("#cool")[0].checked=!1,$("#heat")[0].style.pointerEvents="none",$("#heat")[0].style.opacity=".5",$("#cool")[0].style.pointerEvents="none",$("#cool")[0].style.opacity=".5"):($("#heat")[0].checked=t.heat,$("#cool")[0].checked=t.vent,$("#heat")[0].style.pointerEvents="auto",$("#heat")[0].style.opacity="1",$("#cool")[0].style.pointerEvents="auto",$("#cool")[0].style.opacity="1")},error:function(t){}})}function changeMaxTemp(t){$.ajax({url:"/temp_limit",type:"POST",data:JSON.stringify({temp_limit:t.target.value}),contentType:"application/json; charset=utf-8",dataType:"json"})}document.addEventListener("change",changeHeat),document.addEventListener("change",changeCool),document.addEventListener("ValueChange",changeAutoHeat),document.addEventListener("change",changeAutoHeat),document.addEventListener("change",changeMaxTemp),setCoolHeat(),$(document).ready(function(){gett(),setInterval("gett()",500)});